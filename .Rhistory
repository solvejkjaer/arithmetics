install.packages("tidyverse")
library(tidyverse)
?readxl
library(readxl)
?readxl
?read_excel
getwd()
a<-read_excel("materiale.xlsx")
a
a$Sentence[1]
a$HA[1]
a$`Answer BL`[1]
a$`Answer HA`[1]
library(htmltools)
library(psychTestR)
library(tibble)
library(shiny)
library(jspsychr)
library(dplyr)
library(tidyverse)
library(readxl)
# base_dir <- "/srv/shiny-server/experimento-TFM"
base_dir <- "/Users/Solvej/OneDrive - Aarhus Universitet/Alting/Lingvistik/Projekter/arithmetics_project/arithmetics/"
jspsych_dir <- file.path(base_dir, "jspsych-6-3-1")
write_to_file <- function(json_object,file_name,var_name=NULL){
if(is.null(var_name)){
write(json_object, file=file_name)
}else{
write(paste("var ",var_name,"= ", json_object), file=file_name)
}
}
stimuli<-read_excel(file.path(base_dir,"materiale.xlsx"))
summmary(stimuli)
summary(stimuli)
head(stimuli)
?colnames
stimuli<-read_excel(file.path(base_dir,"materiale.xlsx"))
colnames(stimuli)
colnames(stimuli)
colnames(stimuli)[3:5]
colnames(stimuli)[3:5] <- c("math_HA","math_LA","math_BL")
colnames(stimuli)
stimuli %>%
pivot_longer(
cols = -c(item,sentence),
names_to = c(".value","condition"),
names_pattern = '(.+)_(.+)'
)
colnames(long_stimuli)
stimuli<-read_excel(file.path(base_dir,"materiale.xlsx"))
long_stimuli <- stimuli %>%
pivot_longer(
cols = -c(item,sentence),
names_to = c(".value","condition"),
names_pattern = '(.+)_(.+)'
)
colnames(long_stimuli)
math_stim <- data.frame(long_stimuli,
fontsize="60pt",
lineheight="normal")
head(math_stim)
getwd()
math_stim$stimulus <- html_stimulus(df = math_stim,
html_content = "math",
html_element = "p",
column_names = c("fontsize","lineheight"),
css = c("font-size", "line-height"))
math_stim$sent_stim <- html_stimulus(df = math_stim,
html_content = "sentence",
html_element = "p",
column_names = c("fontsize","lineheight"),
css = c("font-size", "line-height"))
# create json object from dataframe
stimulus_json <- stimulus_df_to_json(df = math_stim,
stimulus = "stimulus",
data = c("sentence","math","answer","condition"))
# write json object to script
write_to_file(stimulus_json, file.path(base_dir, "test_stimuli.js"), "test_stimuli")
